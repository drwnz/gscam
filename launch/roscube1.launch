<launch>
  <arg name="device0" default="/dev/video0"/>
  <arg name="device1" default="/dev/video1"/>
  <arg name="device2" default="/dev/video2"/>
  <arg name="device3" default="/dev/video3"/>

  <arg name="gpio0" default="51"/>
  <arg name="gpio1" default="52"/>
  <arg name="gpio2" default="53"/>
  <arg name="gpio3" default="54"/>

  <arg name="frame_id0" default="camera6/camera_optical_link"/>
  <arg name="frame_id1" default="camera1/camera_optical_link"/>
  <arg name="frame_id2" default="camera3/camera_optical_link"/>
  <arg name="frame_id3" default="camera5/camera_optical_link"/>

  <arg name="camera_name0" default="camera6"/>
  <arg name="camera_name1" default="camera1"/>
  <arg name="camera_name2" default="camera3"/>
  <arg name="camera_name3" default="camera5"/>

  <arg name="namespace0" default="sensing/camera/6"/>
  <arg name="namespace1" default="sensing/camera/1"/>
  <arg name="namespace2" default="sensing/camera/3"/>
  <arg name="namespace3" default="sensing/camera/5"/>

  <arg name="phase0" default="0"/>
  <arg name="phase1" default="60"/>
  <arg name="phase2" default="180"/>
  <arg name="phase3" default="300"/>

  <arg name="frame_rate" default="10"/>
  <arg name="use_image_transport" default="true"/>
  <arg name="encoding" default="rgb8"/>

  <node name="gscam_driver_v4l" pkg="gscam_x2" type="gscam_x2" output="screen" ns="$(arg namespace0)">
    <param name="camera_name" value="$(arg camera_name0)"/>
    <param name="frame_id" value="$(arg frame_id0)"/>
    <param name="phase" value="$(arg phase0)"/>
    <param name="gpio" value="$(arg gpio0)"/>
    <param name="use_image_transport" value="$(arg use_image_transport)"/>

    <param name="camera_info_url" value="package://gscam/examples/uncalibrated_parameters.ini"/>
    <param name="gscam_x2_config" value="v4l2src device=$(arg device0) do-timestamp=true ! video/x-raw, width=1920, height=1280, framerate=30/1, format=UYVY ! videoconvert"/>
    <param name="image_encoding" value="$(arg encoding)"/>
    <param name="sync_sink" value="true"/>
    <param name="frame_rate" value="$(arg frame_rate)"/>
  </node>

  <node name="gscam_driver_v4l" pkg="gscam_x2" type="gscam_x2" output="screen" ns="$(arg namespace1)">
    <param name="camera_name" value="$(arg camera_name1)"/>
    <param name="frame_id" value="$(arg frame_id1)"/>
    <param name="phase" value="$(arg phase1)"/>
    <param name="gpio" value="$(arg gpio1)"/>
    <param name="use_image_transport" value="$(arg use_image_transport)"/>

    <param name="camera_info_url" value="package://gscam/examples/uncalibrated_parameters.ini"/>
    <param name="gscam_x2_config" value="v4l2src device=$(arg device1) do-timestamp=true ! video/x-raw, width=1920, height=1280, framerate=30/1, format=UYVY ! videoconvert"/>
    <param name="image_encoding" value="$(arg encoding)"/>
    <param name="sync_sink" value="true"/>
    <param name="frame_rate" value="$(arg frame_rate)"/>
  </node>

  <node name="gscam_driver_v4l" pkg="gscam_x2" type="gscam_x2" output="screen" ns="$(arg namespace2)">
    <param name="camera_name" value="$(arg camera_name2)"/>
    <param name="frame_id" value="$(arg frame_id2)"/>
    <param name="phase" value="$(arg phase2)"/>
    <param name="gpio" value="$(arg gpio2)"/>
    <param name="use_image_transport" value="$(arg use_image_transport)"/>

    <param name="camera_info_url" value="package://gscam/examples/uncalibrated_parameters.ini"/>
    <param name="gscam_x2_config" value="v4l2src device=$(arg device2) do-timestamp=true ! video/x-raw, width=1920, height=1280, framerate=30/1, format=UYVY ! videoconvert"/>
    <param name="image_encoding" value="$(arg encoding)"/>
    <param name="sync_sink" value="true"/>
    <param name="frame_rate" value="$(arg frame_rate)"/>
  </node>

  <node name="gscam_driver_v4l" pkg="gscam_x2" type="gscam_x2" output="screen" ns="$(arg namespace3)">
    <param name="camera_name" value="$(arg camera_name3)"/>
    <param name="frame_id" value="$(arg frame_id3)"/>
    <param name="phase" value="$(arg phase3)"/>
    <param name="gpio" value="$(arg gpio3)"/>
    <param name="use_image_transport" value="$(arg use_image_transport)"/>

    <param name="camera_info_url" value="package://gscam/examples/uncalibrated_parameters.ini"/>
    <param name="gscam_x2_config" value="v4l2src device=$(arg device3) do-timestamp=true ! video/x-raw, width=1920, height=1280, framerate=30/1, format=UYVY ! videoconvert"/>
    <param name="image_encoding" value="$(arg encoding)"/>
    <param name="sync_sink" value="true"/>
    <param name="frame_rate" value="$(arg frame_rate)"/>
  </node>

</launch>
